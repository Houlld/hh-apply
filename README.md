## HH Applicant Tool

### Установка

```powershell
Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy Unrestricted
python -m venv hh-applicant-venv
.\hh-applicant-venv\Scripts\activate
pip install hh-applicant-tool[qt]
```

### Авторизация

```bash
$ hh-applicant-tool -vv authorize
```

В случае успешной авторизации токены будут сохранены в `%appdata%/hh-applicant-tool/config.json`:

```json
{
  "token": {
    "access_token": "...",
    "created_at": 1678151427,
    "expires_in": 1209599,
    "refresh_token": "...",
    "token_type": "bearer"
  }
}
```

Через конфиг можно задать дополнительные настройки:

| Имя атрибута    | Описание                                                                                   |
| --------------- | ------------------------------------------------------------------------------------------ |
| `proxy_url`     | Прокси, используемый для всех запросов, например, `socks5h://127.0.0.1:9050`               |
| `reply_message` | Сообщение для ответа работодателю при отклике на вакансии, см. формат сообщений            |
| `user_agent`    | Кастомный юзерагент, передаваемый при каждом запросе. По умолчанию используется от Android |
| `client_id`     | Идентификатор клиента, используемый для авторизации. По умолчанию используется от Android  |
| `client_secret` | Секретный ключ клиента, используемый для авторизации. По умолчанию используется от Android |


### Вызов команд
```
hh-applicant-tool <operation> <flags>
```

| Операция                  | Описание                                                                                                                                                                                                          |
| ------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **update-resumes**        | Обновить все резюме.                                                                                                       |
| **apply-similar**         | Откликнуться на все подходящие вакансии. Лимит = 200 в день.                                       |
| **clear-negotiations**    | Удаляет отказы и отменяет заявки, которые долго висят                                                                                                                                                             |
| **authorize**             | Авторизация на hh.ru                                                                                                                                                                                              |
| **whoami**                | Информация об авторизованном пользователе                                                                                                                                                                 |
| **config**                | Редактировать конфигурационный файл.                                                                                                                                                                              |


### Вызов автооткликов:
Список шаблонов для отклика можно указать в константе `MESSAGES_LIST` находящейся в файле `./hh_applicant_tool/constants.py` <br>
В сообщении отклика можно использовать плейсхолдеры:
- **`%(vacancy_name)s`**: Название вакансии.
- **`%(employer_name)s`**: Название работодателя.
- **`%(first_name)s`**: Имя пользователя.
- **`%(last_name)s`**: Фамилия пользователя.
- **`%(email)s`**: Email пользователя.
- **`%(phone)s`**: Телефон пользователя.
<br>
<br>

Так же можно делать текст уникальным с помощью `{}`. Внутри них через `|` перечисляются варианты, один из которых будет случайно выбран:
```
{Здоров|Привет}, {как {ты|сам}|что делаешь}?
```

##### Запуск:
```bash
hh-applicant-tool apply-similar
```
<br><br>
### При изменении файлов необходимо переустанавливать зависимости:
``` bash
python -m pip uninstall hh-applicant-tool -y
python -m pip install -e .
```

